#include <bits/stdc++.h>
using namespace std;

void dominos() {
    int n , c = 0 , k;
    vector <int> v_left , v_right;
    cout << "Enter the number of dominos' pieces:\n";
    cin >> n;
    cout << "Enter your pieces' dots:\n";
    while (n--) {
        int x , y;
        cin >> x; cin >> y;
        v_left.push_back(x);
        v_right.push_back(y);
    }
    for (int i = 0; i < v_left.size(); ++i) {
        for (int j = 0; j < v_right.size(); ++j) {
            if (v_left[i] == v_right[j]) {
                c++;
                break;
            }
        }
    }
    if (c == v_left.size() - 1) {
        cout << "True" << endl;
        for (int i = 0; i < v_left.size(); ++i) {
            int m = v_left[i];
            auto z = find(v_right.begin(), v_right.end(), m);
            if (z == end(v_right)) {
                cout << v_left[i] << "|" << v_right[i];
                k = v_right[i];
                v_left.erase(v_left.begin() + i);
                v_right.erase(v_right.begin() + i);
                break;
            }
        }
        while (!v_right.empty()) {
            for (int i = 0; i < v_left.size(); ++i) {
                if (v_left[i] == k) {
                    cout << " " << "-" << " " << v_left[i] << "|" << v_right[i];
                    k = v_right[i];
                    v_left.erase(v_left.begin() + i);
                    v_right.erase(v_right.begin() + i);
                    break;
                }
            }
        }
    }
    else
        cout << "False" << endl;

}

int main() {
    dominos();
}
